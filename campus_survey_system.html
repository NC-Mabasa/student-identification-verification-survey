<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Campus ID & Verification Survey</title>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/qrcode-generator/1.4.4/qrcode.min.js"></script>
    <style>
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }
        
        body {
            font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
            min-height: 100vh;
            color: #333;
        }
        
        .container {
            max-width: 1000px;
            margin: 0 auto;
            padding: 20px;
        }
        
        /* Navigation */
        .nav {
            display: flex;
            justify-content: center;
            gap: 20px;
            margin-bottom: 30px;
        }
        
        .nav-btn {
            background: rgba(255, 255, 255, 0.2);
            color: white;
            border: none;
            padding: 12px 24px;
            border-radius: 25px;
            cursor: pointer;
            transition: all 0.3s ease;
            font-size: 16px;
        }
        
        .nav-btn:hover {
            background: rgba(255, 255, 255, 0.3);
        }
        
        .nav-btn.active {
            background: white;
            color: #667eea;
            font-weight: 600;
        }
        
        /* Header */
        .header {
            text-align: center;
            color: white;
            margin-bottom: 40px;
        }
        
        .header h1 {
            font-size: 2.5em;
            margin-bottom: 10px;
            text-shadow: 2px 2px 4px rgba(0,0,0,0.3);
        }
        
        .header p {
            font-size: 1.2em;
            opacity: 0.9;
        }
        
        /* Page sections */
        .page-section {
            display: none;
        }
        
        .page-section.active {
            display: block;
        }
        
        /* QR Code styles */
        .qr-container {
            display: flex;
            gap: 40px;
            justify-content: center;
            flex-wrap: wrap;
        }
        
        .qr-card {
            background: white;
            padding: 30px;
            border-radius: 20px;
            box-shadow: 0 20px 40px rgba(0,0,0,0.1);
            text-align: center;
            max-width: 350px;
        }
        
        .qr-card h2 {
            color: #333;
            margin-bottom: 15px;
            font-size: 1.5em;
        }
        
        .qr-card p {
            color: #666;
            margin-bottom: 25px;
            font-size: 1.1em;
        }
        
        .qr-code {
            margin: 20px auto;
            padding: 15px;
            background: #f8f9fa;
            border-radius: 10px;
            display: inline-block;
        }
        
        .direct-link {
            display: inline-block;
            margin-top: 15px;
            padding: 12px 24px;
            background: linear-gradient(45deg, #667eea, #764ba2);
            color: white;
            text-decoration: none;
            border-radius: 25px;
            transition: all 0.3s ease;
        }
        
        .direct-link:hover {
            transform: translateY(-2px);
            box-shadow: 0 8px 16px rgba(102, 126, 234, 0.3);
        }
        
        /* Main page styles */
        .purpose {
            background: white;
            border-radius: 20px;
            box-shadow: 0 20px 40px rgba(0,0,0,0.1);
            padding: 40px;
            margin-bottom: 40px;
        }
        
        .purpose h2 {
            color: #0056b3;
            margin-bottom: 20px;
            font-size: 1.8em;
        }
        
        .features {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(200px, 1fr));
            gap: 20px;
            margin-top: 30px;
        }
        
        .feature {
            background: #f8f9ff;
            padding: 25px;
            border-radius: 15px;
            text-align: center;
            border-left: 4px solid #667eea;
        }
        
        .feature h3 {
            margin-bottom: 10px;
            font-size: 1.2em;
            color: #333;
        }
        
        .survey-links {
            display: flex;
            gap: 30px;
            justify-content: center;
            flex-wrap: wrap;
        }
        
        .survey-card {
            background: white;
            border-radius: 20px;
            box-shadow: 0 20px 40px rgba(0,0,0,0.1);
            padding: 40px 30px;
            width: 320px;
            text-align: center;
            transition: all 0.3s ease;
            position: relative;
        }
        
        .survey-card:hover {
            transform: translateY(-8px);
            box-shadow: 0 25px 50px rgba(0,0,0,0.15);
        }
        
        .survey-card.active {
            border: 3px solid #28a745;
            transform: scale(1.05);
            box-shadow: 0 25px 50px rgba(40, 167, 69, 0.3);
        }
        
        .survey-card.disabled {
            opacity: 0.5;
            transform: none !important;
            box-shadow: 0 10px 20px rgba(0,0,0,0.05);
        }
        
        .survey-card h2 {
            color: #0056b3;
            margin-bottom: 15px;
            font-size: 1.6em;
        }
        
        .survey-card p {
            color: #666;
            margin-bottom: 25px;
            font-size: 1.1em;
            line-height: 1.5;
        }
        
        .survey-btn {
            display: inline-block;
            padding: 15px 30px;
            background: linear-gradient(45deg, #667eea, #764ba2);
            color: white;
            text-decoration: none;
            border-radius: 25px;
            font-size: 1.1em;
            font-weight: 600;
            transition: all 0.3s ease;
            border: none;
            cursor: pointer;
            width: 100%;
        }
        
        .survey-btn:hover {
            transform: translateY(-2px);
            box-shadow: 0 10px 20px rgba(102, 126, 234, 0.3);
        }
        
        .survey-btn.disabled {
            background: #ccc;
            cursor: not-allowed;
            transform: none !important;
            box-shadow: none !important;
        }
        
        footer {
            text-align: center;
            padding: 30px;
            color: rgba(255, 255, 255, 0.8);
            font-size: 0.9em;
        }

        /* Survey form styles */
        .survey-form-container {
            background: white;
            border-radius: 20px;
            box-shadow: 0 20px 40px rgba(0,0,0,0.1);
            overflow: hidden;
            margin-bottom: 40px;
        }
        
        .survey-form-header {
            padding: 30px;
            text-align: center;
            background: linear-gradient(45deg, #667eea, #764ba2);
            color: white;
        }
        
        .survey-form-header h2 {
            font-size: 1.8em;
            margin-bottom: 10px;
        }
        
        .survey-form-header p {
            opacity: 0.9;
        }
        
        .survey-form-content {
            padding: 30px;
        }
        
        .question {
            margin-bottom: 25px;
            padding: 20px;
            background: #f8f9ff;
            border-radius: 15px;
            border-left: 4px solid #667eea;
        }
        
        .question h3 {
            color: #333;
            margin-bottom: 15px;
            font-size: 1.1em;
        }
        
        .radio-group {
            display: flex;
            flex-direction: column;
            gap: 10px;
        }
        
        .radio-option {
            display: flex;
            align-items: center;
            padding: 10px 15px;
            background: white;
            border-radius: 10px;
            border: 2px solid #e0e0e0;
            transition: all 0.3s ease;
            cursor: pointer;
        }
        
        .radio-option:hover {
            border-color: #667eea;
            background: #f0f2ff;
        }
        
        .radio-option input[type="radio"] {
            margin-right: 10px;
            transform: scale(1.2);
        }
        
        .text-input {
            width: 100%;
            padding: 15px;
            border: 2px solid #e0e0e0;
            border-radius: 10px;
            font-size: 16px;
            transition: border-color 0.3s ease;
            resize: vertical;
            min-height: 80px;
            font-family: inherit;
        }
        
        .text-input:focus {
            outline: none;
            border-color: #667eea;
            box-shadow: 0 0 0 3px rgba(102, 126, 234, 0.1);
        }
        
        .success-message {
            display: none;
            background: #d4edda;
            color: #155724;
            padding: 15px;
            border-radius: 10px;
            margin-top: 20px;
            border: 1px solid #c3e6cb;
            text-align: center;
        }
    </style>
</head>
<body>

    <div class="container">
        <!-- Navigation -->
        <div class="nav">
            <button class="nav-btn" onclick="showPage('main')" id="main-nav">Main Page</button>
            <button class="nav-btn" onclick="showPage('qr')" id="qr-nav">QR Codes</button>
            <button class="nav-btn" onclick="showPage('student')" id="student-nav">Student Survey</button>
            <button class="nav-btn" onclick="showPage('admin')" id="admin-nav">Admin Survey</button>
        </div>

        <!-- Main Page Section -->
        <div id="main-page" class="page-section active">
            <div class="header">
                <h1>🎓 Campus ID & Verification Survey</h1>
                <p>Help us build a safer, smarter, and more convenient campus ID system by sharing your feedback.</p>
            </div>

            <div class="purpose">
                <h2>📋 Why Your Input Matters</h2>
                <p>We're gathering insights from both students and administrators to improve how identification and verification work on campus. Your voice helps shape systems that are secure, simple, and designed with you in mind.</p>
                
                <div class="features">
                    <div class="feature">
                        <h3>🔒 Anonymous & Secure</h3>
                        <p>Your privacy is always protected</p>
                    </div>
                    <div class="feature">
                        <h3>📱 Mobile-Friendly</h3>
                        <p>Answer easily on any device</p>
                    </div>
                    <div class="feature">
                        <h3>⚡ Quick</h3>
                        <p>Just 2–3 minutes to complete</p>
                    </div>
                    <div class="feature">
                        <h3>💡 Impactful</h3>
                        <p>Your feedback guides real improvements</p>
                    </div>
                </div>
            </div>

            <div class="survey-links">
                <div class="survey-card" id="student-card">
                    <h2>Student Survey</h2>
                    <p>Share your experience with campus ID and verification systems.</p>
                    <button class="survey-btn" onclick="showStudentSurvey()" id="student-link">Take Student Survey</button>
                </div>
                <div class="survey-card" id="admin-card">
                    <h2>Admin Survey</h2>
                    <p>Provide feedback on managing and improving verification processes.</p>
                    <button class="survey-btn" onclick="showAdminSurvey()" id="admin-link">Start Admin Survey</button>
                </div>
            </div>
        </div>

        <!-- QR Codes Page Section -->
        <div id="qr-page" class="page-section">
            <div class="header">
                <h1>📱 QR Code Distribution</h1>
                <p>Print or display these QR codes for easy survey access</p>
            </div>
            
            <div class="qr-container">
                <div class="qr-card">
                    <h2>🎓 Student Survey</h2>
                    <p>For students to share their campus ID experience</p>
                    <div class="qr-code" id="studentQR"></div>
                    <button class="direct-link" onclick="activateStudentSurvey()">Direct Link</button>
                </div>
                
                <div class="qr-card">
                    <h2>🔐 Administrator Survey</h2>
                    <p>For administrators managing verification processes</p>
                    <div class="qr-code" id="adminQR"></div>
                    <button class="direct-link" onclick="activateAdminSurvey()">Direct Link</button>
                </div>
            </div>
        </div>

        <!-- Student Survey Section -->
        <div id="student-page" class="page-section">
            <div class="header">
                <h1>🎓 Student Survey</h1>
                <p>Student identification and card usage experience</p>
            </div>

            <div class="survey-form-container">
                <div class="survey-form-header">
                    <h2>Student Survey</h2>
                    <p>We value your perspective on campus ID and verification systems.</p>
                </div>
                <div class="survey-form-content">
                    <form id="studentForm">
                        <div class="question">
                            <h3>1. How frequently do you use your student ID card?</h3>
                            <div class="radio-group">
                                <label class="radio-option"><input type="radio" name="id_frequency" value="daily" required> Daily</label>
                                <label class="radio-option"><input type="radio" name="id_frequency" value="weekly" required> Several times a week</label>
                                <label class="radio-option"><input type="radio" name="id_frequency" value="monthly" required> Several times a month</label>
                                <label class="radio-option"><input type="radio" name="id_frequency" value="rarely" required> Rarely</label>
                            </div>
                        </div>

                        <div class="question">
                            <h3>2. How often do you forget your student ID card?</h3>
                            <div class="radio-group">
                                <label class="radio-option"><input type="radio" name="forget_frequency" value="frequently" required> Frequently</label>
                                <label class="radio-option"><input type="radio" name="forget_frequency" value="sometimes" required> Sometimes</label>
                                <label class="radio-option"><input type="radio" name="forget_frequency" value="rarely" required> Rarely</label>
                                <label class="radio-option"><input type="radio" name="forget_frequency" value="never" required> Never</label>
                            </div>
                        </div>

                        <div class="question">
                            <h3>3. How would you rate the convenience of using your student ID card?</h3>
                            <div class="radio-group">
                                <label class="radio-option"><input type="radio" name="convenience_rating" value="very_convenient" required> Very convenient</label>
                                <label class="radio-option"><input type="radio" name="convenience_rating" value="convenient" required> Convenient</label>
                                <label class="radio-option"><input type="radio" name="convenience_rating" value="neutral" required> Neutral</label>
                                <label class="radio-option"><input type="radio" name="convenience_rating" value="inconvenient" required> Inconvenient</label>
                                <label class="radio-option"><input type="radio" name="convenience_rating" value="very_inconvenient" required> Very inconvenient</label>
                            </div>
                        </div>

                        <div class="question">
                            <h3>4. How easy is it for you to be identified on campus without your physical ID card?</h3>
                            <div class="radio-group">
                                <label class="radio-option"><input type="radio" name="identify_without_card" value="very_easy" required> Very easy</label>
                                <label class="radio-option"><input type="radio" name="identify_without_card" value="easy" required> Easy</label>
                                <label class="radio-option"><input type="radio" name="identify_without_card" value="moderate" required> Moderate</label>
                                <label class="radio-option"><input type="radio" name="identify_without_card" value="difficult" required> Difficult</label>
                                <label class="radio-option"><input type="radio" name="identify_without_card" value="very_difficult" required> Very difficult</label>
                            </div>
                        </div>

                        <div class="question">
                            <h3>Additional Comments (Optional)</h3>
                            <textarea class="text-input" name="student_comments" placeholder="Share any additional thoughts about the campus ID system..."></textarea>
                        </div>

                        <button type="submit" class="survey-btn" id="studentSubmitBtn">Submit Survey</button>
                        <div class="success-message" id="studentSuccess">✅ Thank you! Your response has been recorded.</div>
                    </form>
                </div>
            </div>
        </div>

        <!-- Admin Survey Section -->
        <div id="admin-page" class="page-section">
            <div class="header">
                <h1>🔐 Administrator Survey</h1>
                <p>Admin feedback on campus ID and verification processes</p>
            </div>

            <div class="survey-form-container">
                <div class="survey-form-header">
                    <h2>Administrator Survey</h2>
                    <p>Your insights are key to improving campus security and efficiency.</p>
                </div>
                <div class="survey-form-content">
                    <form id="adminForm">
                        <div class="question">
                            <h3>1. In your role, how often do you need to verify a person's identity on campus?</h3>
                            <div class="radio-group">
                                <label class="radio-option"><input type="radio" name="verify_frequency" value="daily" required> Daily</label>
                                <label class="radio-option"><input type="radio" name="verify_frequency" value="weekly" required> Several times a week</label>
                                <label class="radio-option"><input type="radio" name="verify_frequency" value="monthly" required> Several times a month</label>
                                <label class="radio-option"><input type="radio" name="verify_frequency" value="rarely" required> Rarely</label>
                            </div>
                        </div>

                        <div class="question">
                            <h3>2. How would you rate the efficiency of the current campus ID verification process?</h3>
                            <div class="radio-group">
                                <label class="radio-option"><input type="radio" name="efficiency_rating" value="very_efficient" required> Very efficient</label>
                                <label class="radio-option"><input type="radio" name="efficiency_rating" value="efficient" required> Efficient</label>
                                <label class="radio-option"><input type="radio" name="efficiency_rating" value="neutral" required> Neutral</label>
                                <label class="radio-option"><input type="radio" name="efficiency_rating" value="inefficient" required> Inefficient</label>
                                <label class="radio-option"><input type="radio" name="efficiency_rating" value="very_inefficient" required> Very inefficient</label>
                            </div>
                        </div>

                        <div class="question">
                            <h3>3. What are the most common challenges you face in verifying student or staff identities?</h3>
                            <div class="radio-group">
                                <label class="radio-option"><input type="radio" name="common_challenges" value="outdated_cards" required> Outdated ID cards</label>
                                <label class="radio-option"><input type="radio" name="common_challenges" value="missing_cards" required> People not having their cards</label>
                                <label class="radio-option"><input type="radio" name="common_challenges" value="technical_issues" required> Technical issues with scanners/readers</label>
                                <label class="radio-option"><input type="radio" name="common_challenges" value="other" required> Other</label>
                            </div>
                        </div>

                        <div class="question">
                            <h3>4. How foolproof do you consider the current system is against card swapping or misuse?</h3>
                            <div class="radio-group">
                                <label class="radio-option"><input type="radio" name="card_swapping" value="very_foolproof" required> Very foolproof</label>
                                <label class="radio-option"><input type="radio" name="card_swapping" value="somewhat_foolproof" required> Somewhat foolproof</label>
                                <label class="radio-option"><input type="radio" name="card_swapping" value="not_very_foolproof" required> Not very foolproof</label>
                                <label class="radio-option"><input type="radio" name="card_swapping" value="not_foolproof" required> Not foolproof at all</label>
                            </div>
                        </div>

                        <div class="question">
                            <h3>Additional Comments (Optional)</h3>
                            <textarea class="text-input" name="admin_comments" placeholder="Share any additional insights about campus verification processes..."></textarea>
                        </div>

                        <button type="submit" class="survey-btn" id="adminSubmitBtn">Submit Survey</button>
                        <div class="success-message" id="adminSuccess">✅ Thank you! Your response has been recorded.</div>
                    </form>
                </div>
            </div>
        </div>

        <footer>
            <p>© 2025 Campus ID Research Project</p>
        </footer>
    </div>

    <script>
        // Global state
        let currentPage = 'main';
        let surveyMode = null; // 'student' or 'admin'
        let studentSubmitted = false;
        let adminSubmitted = false;

        // Page navigation
        function showPage(page) {
            // Hide all pages
            document.querySelectorAll('.page-section').forEach(section => {
                section.classList.remove('active');
            });
            
            // Remove active class from nav buttons
            document.querySelectorAll('.nav-btn').forEach(btn => {
                btn.classList.remove('active');
            });
            
            // Show selected page and activate nav button
            document.getElementById(page + '-page').classList.add('active');
            document.getElementById(page + '-nav').classList.add('active');
            
            currentPage = page;
            
            // Generate QR codes when QR page is shown
            if (page === 'qr') {
                generateQRCodes();
            }
            
            // Update survey cards based on mode
            updateSurveyCards();
        }

        // Survey activation functions
        function showStudentSurvey() {
            surveyMode = 'student';
            updateSurveyCards();
            showPage('student');
        }

        function showAdminSurvey() {
            surveyMode = 'admin';
            updateSurveyCards();
            showPage('admin');
        }

        function activateStudentSurvey() {
            surveyMode = 'student';
            updateSurveyCards();
            showPage('main');
        }

        function activateAdminSurvey() {
            surveyMode = 'admin';
            updateSurveyCards();
            showPage('main');
        }

        // Update survey cards based on current mode
        function updateSurveyCards() {
            const studentCard = document.getElementById('student-card');
            const adminCard = document.getElementById('admin-card');
            const studentLink = document.getElementById('student-link');
            const adminLink = document.getElementById('admin-link');

            // Reset all cards
            studentCard.classList.remove('active', 'disabled');
            adminCard.classList.remove('active', 'disabled');
            studentLink.classList.remove('disabled');
            adminLink.classList.remove('disabled');

            if (surveyMode === 'student') {
                studentCard.classList.add('active');
                adminCard.classList.add('disabled');
                adminLink.classList.add('disabled');
            } else if (surveyMode === 'admin') {
                adminCard.classList.add('active');
                studentCard.classList.add('disabled');
                studentLink.classList.add('disabled');
            }
        }

        // Generate QR codes
        function generateQRCodes() {
            const baseUrl = window.location.href.split('?')[0]; // Get current page URL without params
            
            // Student QR code
            const studentUrl = baseUrl + '?survey=student';
            const studentQR = qrcode(0, 'L');
            studentQR.addData(studentUrl);
            studentQR.make();
            document.getElementById('studentQR').innerHTML = studentQR.createImgTag(4);
            
            // Admin QR code
            const adminUrl = baseUrl + '?survey=admin';
            const adminQR = qrcode(0, 'L');
            adminQR.addData(adminUrl);
            adminQR.make();
            document.getElementById('adminQR').innerHTML = adminQR.createImgTag(4);
        }

        // Handle form submissions
        function handleStudentSubmit(e) {
            e.preventDefault();
            
            if (studentSubmitted) return;
            
            const formData = new FormData(e.target);
            console.log('Student survey data:', Object.fromEntries(formData));
            
            studentSubmitted = true;
            const submitBtn = document.getElementById('studentSubmitBtn');
            const successMsg = document.getElementById('studentSuccess');
            
            submitBtn.disabled = true;
            submitBtn.textContent = "Submission Successful!";
            submitBtn.style.background = '#6c757d';
            
            successMsg.style.display = 'block';
            successMsg.innerHTML = '✅ Thank you! Your student response has been recorded.';
            
            e.target.reset();
            
            setTimeout(() => {
                successMsg.style.display = 'none';
            }, 5000);
        }

        function handleAdminSubmit(e) {
            e.preventDefault();
            
            if (adminSubmitted) return;
            
            const formData = new FormData(e.target);
            console.log('Admin survey data:', Object.fromEntries(formData));
            
            adminSubmitted = true;
            const submitBtn = document.getElementById('adminSubmitBtn');
            const successMsg = document.getElementById('adminSuccess');
            
            submitBtn.disabled = true;
            submitBtn.textContent = "Submission Successful!";
            submitBtn.style.background = '#6c757d';
            
            successMsg.style.display = 'block';
            successMsg.innerHTML = '✅ Thank you! Your administrator response has been recorded.';
            
            e.target.reset();
            
            setTimeout(() => {
                successMsg.style.display = 'none';
            }, 5000);
        }

        // Initialize page
        document.addEventListener('DOMContentLoaded', () => {
            // Check URL parameters
            const urlParams = new URLSearchParams(window.location.search);
            const surveyParam = urlParams.get('survey');
            
            if (surveyParam === 'student') {
                surveyMode = 'student';
                updateSurveyCards();
            } else if (surveyParam === 'admin') {
                surveyMode = 'admin';
                updateSurveyCards();
            }
            
            // Attach form event listeners
            document.getElementById('studentForm').addEventListener('submit', handleStudentSubmit);
            document.getElementById('adminForm').addEventListener('submit', handleAdminSubmit);
            
            // Check submission status
            if (studentSubmitted) {
                const submitBtn = document.getElementById('studentSubmitBtn');
                submitBtn.disabled = true;
                submitBtn.textContent = "You've Already Submitted";
                submitBtn.style.background = '#6c757d';
            }
            
            if (adminSubmitted) {
                const submitBtn = document.getElementById('adminSubmitBtn');
                submitBtn.disabled = true;
                submitBtn.textContent = "You've Already Submitted";
                submitBtn.style.background = '#6c757d';
            }
        });
    </script>

</body>
</html>